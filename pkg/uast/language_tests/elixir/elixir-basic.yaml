suite: elixir-basic
name: Basic Elixir constructs

parse_cases:
  - name: Parse simple assignment
    input: "x = 1"
    output:
      type: File
      roles: []
      children:
        - type: BinaryOp
          roles:
            - Operator
          children:
            - type: Identifier
              token: "x"
              roles:
                - Name
            - type: Literal
              token: "1"
              roles:
                - Literal

  - name: Parse literals
    input: ":ok"
    output:
      type: File
      roles: []
      children:
        - type: Literal
          token: ":ok"
          roles:
            - Literal

  - name: Parse list
    input: "[1, 2]"
    output:
      type: File
      roles: []
      children:
        - type: List
          roles:
            - Literal
          children:
            - type: Literal
              token: "1"
              roles:
                - Literal
            - type: Literal
              token: "2"
              roles:
                - Literal

  - name: Parse map
    input: "%{a: 1}"
    output:
      type: File
      roles: []
      children:
        - type: Dict
          token: "%{a: 1}"
          roles:
            - Literal
          children:
            - type: Synthetic
              roles: []
              children:
                - type: Synthetic
                  roles: []
                  children:
                    - type: KeyValue
                      roles:
                        - Key
                        - Value
                      children:
                        - type: Identifier
                          token: "a: "
                          roles:
                            - Key
                        - type: Literal
                          token: "1"
                          roles:
                            - Literal
