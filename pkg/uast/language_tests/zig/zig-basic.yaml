language: zig
tests:
  - name: "Root is File"
    code: |
      const x: i32 = 42;
    query: rfilter(.type == "File") |> map(.type)
    expected:
      - "File"

  - name: "Const declaration is Variable"
    code: |
      const x: i32 = 42;
    query: rfilter(.type == "Variable") |> map(.type)
    expected:
      - "Variable"

  - name: "Identifier has Name role"
    code: |
      const x: i32 = 42;
    query: rfilter(.type == "Identifier" and .roles contains "Name") |> map(.type)
    expected:
      - "Identifier"
      - "Identifier"

  - name: "Integer is Literal"
    code: |
      const x: i32 = 42;
    query: rfilter(.type == "Literal") |> map(.type)
    expected:
      - "Literal"

  - name: "Function declaration is Function"
    code: |
      pub fn main() void {}
    query: rfilter(.type == "Function") |> map(.type)
    expected:
      - "Function"
