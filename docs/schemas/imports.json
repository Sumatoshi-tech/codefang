{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Imports Analyzer Output",
  "description": "JSON schema for the imports analyzer ComputedMetrics output",
  "type": "object",
  "properties": {
    "aggregate": {
      "$ref": "#/definitions/AggregateData"
    },
    "categories": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ImportCategoryData"
      }
    },
    "dependencies": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ImportDependencyData"
      }
    },
    "import_list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ImportData"
      }
    }
  },
  "required": [
    "import_list",
    "categories",
    "dependencies",
    "aggregate"
  ],
  "definitions": {
    "AggregateData": {
      "type": "object",
      "properties": {
        "external_imports": {
          "type": "integer"
        },
        "external_ratio": {
          "type": "number"
        },
        "internal_imports": {
          "type": "integer"
        },
        "total_imports": {
          "type": "integer"
        },
        "unique_packages": {
          "type": "integer"
        }
      },
      "required": [
        "total_imports",
        "external_imports",
        "internal_imports",
        "unique_packages",
        "external_ratio"
      ]
    },
    "ImportCategoryData": {
      "type": "object",
      "properties": {
        "category": {
          "type": "string"
        },
        "count": {
          "type": "integer"
        }
      },
      "required": [
        "category",
        "count"
      ]
    },
    "ImportData": {
      "type": "object",
      "properties": {
        "category": {
          "type": "string"
        },
        "is_external": {
          "type": "boolean"
        },
        "path": {
          "type": "string"
        }
      },
      "required": [
        "path",
        "category",
        "is_external"
      ]
    },
    "ImportDependencyData": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "risk_level": {
          "type": "string"
        }
      },
      "required": [
        "path",
        "risk_level",
        "reason"
      ]
    }
  }
}