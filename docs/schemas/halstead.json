{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Halstead Analyzer Output",
  "description": "JSON schema for the halstead analyzer ComputedMetrics output",
  "type": "object",
  "properties": {
    "aggregate": {
      "$ref": "#/definitions/AggregateData"
    },
    "distribution": {
      "$ref": "#/definitions/EffortDistributionData"
    },
    "function_halstead": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/FunctionHalsteadData"
      }
    },
    "high_effort_functions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/HighEffortFunctionData"
      }
    }
  },
  "required": [
    "function_halstead",
    "distribution",
    "high_effort_functions",
    "aggregate"
  ],
  "definitions": {
    "AggregateData": {
      "type": "object",
      "properties": {
        "delivered_bugs": {
          "type": "number"
        },
        "difficulty": {
          "type": "number"
        },
        "distinct_operands": {
          "type": "integer"
        },
        "distinct_operators": {
          "type": "integer"
        },
        "effort": {
          "type": "number"
        },
        "estimated_length": {
          "type": "number"
        },
        "health_score": {
          "type": "number"
        },
        "length": {
          "type": "integer"
        },
        "message": {
          "type": "string"
        },
        "time_to_program": {
          "type": "number"
        },
        "total_functions": {
          "type": "integer"
        },
        "total_operands": {
          "type": "integer"
        },
        "total_operators": {
          "type": "integer"
        },
        "vocabulary": {
          "type": "integer"
        },
        "volume": {
          "type": "number"
        }
      },
      "required": [
        "total_functions",
        "volume",
        "difficulty",
        "effort",
        "time_to_program",
        "delivered_bugs",
        "distinct_operators",
        "distinct_operands",
        "total_operators",
        "total_operands",
        "vocabulary",
        "length",
        "estimated_length",
        "health_score",
        "message"
      ]
    },
    "EffortDistributionData": {
      "type": "object",
      "properties": {
        "high": {
          "type": "integer"
        },
        "low": {
          "type": "integer"
        },
        "medium": {
          "type": "integer"
        },
        "very_high": {
          "type": "integer"
        }
      },
      "required": [
        "low",
        "medium",
        "high",
        "very_high"
      ]
    },
    "FunctionHalsteadData": {
      "type": "object",
      "properties": {
        "complexity_level": {
          "type": "string"
        },
        "delivered_bugs": {
          "type": "number"
        },
        "difficulty": {
          "type": "number"
        },
        "effort": {
          "type": "number"
        },
        "name": {
          "type": "string"
        },
        "time_to_program": {
          "type": "number"
        },
        "volume": {
          "type": "number"
        }
      },
      "required": [
        "name",
        "volume",
        "difficulty",
        "effort",
        "time_to_program",
        "delivered_bugs",
        "complexity_level"
      ]
    },
    "HighEffortFunctionData": {
      "type": "object",
      "properties": {
        "delivered_bugs": {
          "type": "number"
        },
        "effort": {
          "type": "number"
        },
        "name": {
          "type": "string"
        },
        "risk_level": {
          "type": "string"
        },
        "time_to_program": {
          "type": "number"
        },
        "volume": {
          "type": "number"
        }
      },
      "required": [
        "name",
        "volume",
        "effort",
        "time_to_program",
        "delivered_bugs",
        "risk_level"
      ]
    }
  }
}